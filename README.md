## Telegram-–±–æ—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞

–ë–æ—Ç –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –Ω–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç –µ–≥–æ –∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –≤ Google Spreadsheet.

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- **Node.js (LTS, >= 18)**
- **Telegraf** ‚Äî Telegram Bot API
- **google-spreadsheet** ‚Äî –¥–æ—Å—Ç—É–ø –∫ Google Sheets
- **Express** ‚Äî health check endpoint
- **dotenv** ‚Äî –∑–∞–≥—Ä—É–∑–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

- **src/index.js** ‚Äî —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞, –∑–∞–ø—É—Å–∫ –±–æ—Ç–∞ –∏ HTTP-—Å–µ—Ä–≤–µ—Ä–∞ (health check)
- **src/bot/telegram.js** ‚Äî –ª–æ–≥–∏–∫–∞ Telegram-–±–æ—Ç–∞
- **src/services/googleSheets.js** ‚Äî —á—Ç–µ–Ω–∏–µ Google Sheets –∏ in-memory –∫—ç—à
- **src/services/phoneValidator.js** ‚Äî –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –Ω–æ–º–µ—Ä–∞
- **src/config/index.js** ‚Äî –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ —Ä–∞–±–æ—Ç–∞ —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ —Å–æ —Å–ª–µ–¥—É—é—â–∏–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏:

```bash
BOT_TOKEN=your_telegram_bot_token
GOOGLE_SHEET_ID=1LXGrv9ZG8QbkDwJ-cNMeiJj0JaIUGoWve47DEnFkizs
GOOGLE_CLIENT_EMAIL=service_account_email@project-id.iam.gserviceaccount.com
GOOGLE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nXXXX...\n-----END PRIVATE KEY-----\n"
CACHE_TTL_MINUTES=10
PORT=3000
```

**–í–∞–∂–Ω–æ:** `GOOGLE_PRIVATE_KEY` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–ø–∏—Å–∞–Ω –≤ –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É, —Å —Å–∏–º–≤–æ–ª–∞–º–∏ –ø–µ—Ä–µ–Ω–æ—Å–∞ —Å—Ç—Ä–æ–∫–∏ –∫–∞–∫ `\n`. –ö–æ–¥ —Å–∞–º –∑–∞–º–µ–Ω–∏—Ç `\\n` –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–≤–æ–¥—ã —Å—Ç—Ä–æ–∫.

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Google Service Account

1. –°–æ–∑–¥–∞–π—Ç–µ —Å–µ—Ä–≤–∏—Å–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç –≤ Google Cloud Console.
2. –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ JSON-–∫–ª—é—á.
3. –í–æ–∑—å–º–∏—Ç–µ –∏–∑ –Ω–µ–≥–æ:
   - `client_email` ‚Üí `GOOGLE_CLIENT_EMAIL`
   - `private_key` ‚Üí `GOOGLE_PRIVATE_KEY` (c –∑–∞–º–µ–Ω–æ–π –ø–µ—Ä–µ–Ω–æ—Å–æ–≤ —Å—Ç—Ä–æ–∫ –Ω–∞ `\n`)
4. –í—ã–¥–∞–π—Ç–µ —ç—Ç–æ–º—É —Å–µ—Ä–≤–∏—Å–Ω–æ–º—É –∞–∫–∫–∞—É–Ω—Ç—É –¥–æ—Å—Ç—É–ø **–∫–∞–∫ –º–∏–Ω–∏–º—É–º –Ω–∞ —á—Ç–µ–Ω–∏–µ** –∫ —Ç–∞–±–ª–∏—Ü–µ –ø–æ ID `GOOGLE_SHEET_ID` (—Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ —á–µ—Ä–µ–∑ ¬´–ü–æ–¥–µ–ª–∏—Ç—å—Å—è¬ª –ø–æ email —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞).

–¢–∞–±–ª–∏—Ü–∞ –¥–æ–ª–∂–Ω–∞ –∏–º–µ—Ç—å:

- –æ–¥–∏–Ω —Å—Ç–æ–ª–±–µ—Ü
- –ø–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞ ‚Äî –∑–∞–≥–æ–ª–æ–≤–æ–∫ `Phone`
- –Ω–∞—á–∏–Ω–∞—è —Å–æ –≤—Ç–æ—Ä–æ–π —Å—Ç—Ä–æ–∫–∏ ‚Äî –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤, —Ç–æ–ª—å–∫–æ —Ü–∏—Ñ—Ä—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä: `79000423366`)

### –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫

```bash
npm install
npm start
```

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞:

- –±–æ—Ç –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ —Ç–æ–∫–µ–Ω—É `BOT_TOKEN`
- HTTP-—Å–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç —Å–ª—É—à–∞—Ç—å –ø–æ—Ä—Ç `PORT` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `3000`)
- health check –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É `/health`

### –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞

- **/start** ‚Äî –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∏ –∫—Ä–∞—Ç–∫–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
- **/help** ‚Äî —Å–ø—Ä–∞–≤–∫–∞
- **–ª—é–±–æ–µ —Ç–µ–∫—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ** ‚Äî –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ—Ç—Å—è –∫–∞–∫ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞

–û—Ç–≤–µ—Ç—ã:

- –Ω–æ–º–µ—Ä –Ω–∞–π–¥–µ–Ω: `‚úÖ –ù–æ–º–µ—Ä –Ω–∞–π–¥–µ–Ω`
- –Ω–æ–º–µ—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω: `‚ùå –ù–æ–º–µ—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω`
- –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç: `‚ö†Ô∏è –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –Ω–æ–º–µ—Ä–∞`
- –æ—à–∏–±–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ç–∞–±–ª–∏—Ü–µ: `üî¥ –°–µ—Ä–≤–∏—Å –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.`

### –î–µ–ø–ª–æ–π –Ω–∞ Railway

1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç –Ω–∞ Railway –∏ –ø–æ–¥–∫–ª—é—á–∏—Ç–µ GitHub-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö Railway:
   - `BOT_TOKEN`
   - `GOOGLE_SHEET_ID`
   - `GOOGLE_CLIENT_EMAIL`
   - `GOOGLE_PRIVATE_KEY`
   - `CACHE_TTL_MINUTES` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
   - `PORT` (Railway –æ–±—ã—á–Ω–æ —Å–∞–º –∑–∞–¥–∞—ë—Ç)
3. Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç `npm install` –∏ –∫–æ–º–∞–Ω–¥—É `npm start`.

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ:

- endpoint `/health` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `ok`
- –±–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ `/start`, `/help` –∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–æ–º–µ—Ä–∞ –ø–æ —Ç–∞–±–ª–∏—Ü–µ


